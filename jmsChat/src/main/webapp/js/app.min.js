var app=angular.module("JmsChatApp",[]);app.controller("chatCtrl",function($scope,chatMessageService){$scope.firstName="John",$scope.lastName="Doe",$scope.messages=[],refresh=function(){chatMessageService.getMessageList().then(function(data){console.log("chatMessageService -> GET -> Done"),$scope.messages=data.data},function(response){console.log("chatMessageService -> GET -> Error")})},$scope.sendMessage=function(msg){console.log(msg),chatMessageService.sendMessage(msg).then(function(){console.log("chatMessageService -> POST -> Done"),refresh(),$scope.msg=null},function(){console.log("chatMessageService -> POST -> Error")})},refresh()}),app.service("chatMessageService",function($http){console.log("Running chatMessageService"),this.getMessageList=function(){return $http({method:"GET",url:CONTEXT_PATH+"/messageService"})},this.sendMessage=function(msg){return $http.post(CONTEXT_PATH+"/messageService",msg)}});